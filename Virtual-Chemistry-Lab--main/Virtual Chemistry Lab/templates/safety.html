<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lab Safety Guidelines</title>
<style>
body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(to right, #e3f2fd, #ffffff);
    margin: 0;
    color: #0d47a1;
    line-height: 1.6;
    display: flex;
    flex-direction: column;
    min-height: 100vh; /* Ensure footer stays at bottom */
}


/* Header styling - consistent with other pages */
header {
    background: linear-gradient(to right, #1e3c72, #2a5298);
    padding: 25px 20px;
    text-align: center;
    color: white;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

header h1 {
    font-size: 2.4em;
    margin: 0;
    margin-bottom: 15px; /* Added margin for spacing with nav */
}

/* Navigation styling - consistent with other pages */
nav {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
}

nav a {
    text-decoration: none;
    color: #ffffff;
    padding: 8px 16px;
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    transition: all 0.3s ease-in-out;
    font-weight: 500;
}

nav a:hover {
    background-color: rgba(255, 255, 255, 0.3);
}

/* Section for safety guidelines */
section {
    flex-grow: 1; /* Allows section to take up available space */
    max-width: 800px;
    margin: 40px auto; /* Centered with vertical margin */
    background: #fff;
    border-radius: 14px;
    box-shadow: 0 4px 24px #b3c6e0;
    padding: 32px;
    text-align: left; /* Align content to left within the section */
}

section h2 {
    color: #1976d2;
    font-size: 2em;
    margin-bottom: 25px;
    text-align: center; /* Center section title */
}

section ul {
    list-style: none; /* Remove default bullet points */
    padding: 0;
    margin: 0;
}

section ul li {
    background: #f8fafc; /* Light background for each item */
    border-radius: 10px;
    padding: 15px 20px;
    margin-bottom: 15px; /* Space between items */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    display: flex; /* For icon and text alignment */
    align-items: center;
    font-size: 1.1em;
    color: #333;
    transition: transform 0.2s ease;
}

section ul li:hover {
    transform: translateX(5px); /* Slight hover effect */
}

/* section ul li::before removed as it was an empty ruleset */

/* Footer styling - consistent with other pages */
footer {
    text-align: center;
    padding: 20px;
    margin-top: auto; /* Pushes footer to the bottom */
    background: linear-gradient(to right, #1e3c72, #2a5298);
    color: white;
    font-size: 0.9em;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
}

/* Chatbot Floating Logo Widget */
#chatbot-fab {
    position: fixed;
    bottom: 28px;
    right: 28px;
    width: 64px;
    height: 64px;
    background: linear-gradient(135deg, #1976d2 0%, #764ba2 100%);
    border-radius: 50%;
    box-shadow: 0 4px 24px rgba(30,60,114,0.18);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 10001;
    transition: box-shadow 0.2s;
}
#chatbot-fab:hover {
    box-shadow: 0 8px 32px rgba(30,60,114,0.28);
}
#chatbot-fab img {
    width: 38px;
    height: 38px;
    display: block;
}
#chatbot-widget {
    position: fixed;
    bottom: 28px;
    right: 28px;
    width: 350px;
    max-width: 95vw;
    z-index: 10002;
    font-family: 'Arial', sans-serif;
    display: none;
    animation: chatbot-popin 0.25s;
}
@keyframes chatbot-popin {
    from { transform: scale(0.8); opacity: 0; }
    to   { transform: scale(1); opacity: 1; }
}
#chatbot-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #fff;
    padding: 14px 18px;
    border-radius: 16px 16px 0 0;
    font-weight: 600;
    font-size: 18px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
#chatbot-close {
    background: none;
    border: none;
    color: #fff;
    font-size: 22px;
    cursor: pointer;
    margin-left: 10px;
    font-weight: bold;
    transition: color 0.2s;
}
#chatbot-close:hover {
    color: #ffd700;
}
#chatbot-body {
    background: #fff;
    border: 1px solid #90caf9;
    border-top: none;
    height: 340px;
    overflow-y: auto;
    padding: 16px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.18);
}
#chatbot-input-area {
    background: #fff;
    border: 1px solid #90caf9;
    border-top: none;
    border-radius: 0 0 16px 16px;
    padding: 10px;
    gap: 8px;
    display: flex;
}
#chatbot-input {
    width: 70%;
    padding: 8px 12px;
    border-radius: 8px;
    border: 1px solid #b3c6e0;
    font-size: 14px;
}
#chatbot-send {
    padding: 8px 18px;
    background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
}
#chatbot-send:hover {
    background: linear-gradient(135deg, #0056b3 0%, #007bff 100%);
}
.chatbot-message {
    margin-bottom: 12px;
    padding: 10px 14px;
    border-radius: 16px;
    max-width: 80%;
    word-wrap: break-word;
    line-height: 1.4;
    font-size: 15px;
}
.chatbot-user {
    background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
    color: #fff;
    margin-left: auto;
    text-align: right;
}
.chatbot-bot {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    margin-right: auto;
    color: #222;
}
@media (max-width: 700px) {
    #chatbot-widget { right: 2vw; width: 96vw; }
    #chatbot-fab { right: 2vw; }
}
</style>
</head>
<body>
<header>
    <h1>üö® Lab Safety Guidelines</h1>
    <nav>
    <a href="index.html">Home</a>

    <a href="experiments.html">Experiments</a>
    <a href="theory.html">Theoretical Concepts</a>
    </nav>
</header>

<section>
    <h2>Stay Safe in the Lab</h2>
    <ul>
    <li>üìñ Always read the procedure before starting.</li>
    <li>üö´ Do not mix unknown chemicals.</li>
    <li>ü•Ω Wear virtual safety goggles.</li>
    <li>üß§ Handle all equipment with care.</li>
    <li>üßë‚Äçüè´ Follow the instructions provided in each experiment.</li>
    <li>üîÑ Reset the virtual lab before starting a new experiment.</li>
    <li>‚ö†Ô∏è Do not perform real-life chemical reactions based on virtual results.</li>
    </ul>
</section>

<!-- Chatbot Floating Logo Widget -->
<div id="chatbot-fab" title="Chat with Chemistry Bot" style="font-size: 2rem; color: white; display: flex; align-items: center; justify-content: center;">
    ü§ñ
</div>
<!-- Chatbot Popup -->
<div id="chatbot-widget">
    <div id="chatbot-header">
        üí¨ Chemistry Chatbot
        <button id="chatbot-close" title="Close">&times;</button>
    </div>
    <div id="chatbot-body">
        <div class="chatbot-message chatbot-bot">
            Hello! I'm your Chemistry Lab Assistant.<br>
            I can help you with:<br>
            ‚Ä¢ Chemistry experiments and procedures<br>
            ‚Ä¢ Chemical reactions and equations<br>
            ‚Ä¢ Lab safety guidelines<br>
            ‚Ä¢ Theoretical concepts and explanations<br>
            <br>What would you like to know?
        </div>
    </div>
    <div id="chatbot-input-area">
        <input id="chatbot-input" type="text" placeholder="Ask me anything..." />
        <button id="chatbot-send">Send</button>
    </div>
</div>

<footer>
    <p>&copy; 2025 Virtual Chemistry Lab</p>
</footer>

<script>
const CHATBOT_API = "/api/chat";
let chatbotSessionId = null;
const fab = document.getElementById('chatbot-fab');
const widget = document.getElementById('chatbot-widget');
const closeBtn = document.getElementById('chatbot-close');
const header = document.getElementById('chatbot-header');
const body = document.getElementById('chatbot-body');
const inputArea = document.getElementById('chatbot-input-area');
fab.onclick = function() {
    widget.style.display = "block";
    fab.style.display = "none";
    setTimeout(() => document.getElementById('chatbot-input').focus(), 200);
};
closeBtn.onclick = function() {
    widget.style.display = "none";
    fab.style.display = "flex";
};
document.getElementById('chatbot-send').onclick = sendChatbotMessage;
document.getElementById('chatbot-input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') sendChatbotMessage();
});
function appendChatbotMessage(sender, text) {
    const msg = document.createElement('div');
    msg.className = "chatbot-message " + (sender === "user" ? "chatbot-user" : "chatbot-bot");
    msg.innerHTML = text.replace(/\n/g, "<br>");
    body.appendChild(msg);
    body.scrollTop = body.scrollHeight;
    return msg;
}
async function sendChatbotMessage() {
    const input = document.getElementById('chatbot-input');
    const msg = input.value.trim();
    if (!msg) return;
    appendChatbotMessage("user", msg);
    input.value = "";
    const loading = appendChatbotMessage("bot", "<em>Thinking...</em>");
    try {
        const res = await fetch(CHATBOT_API, {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({message: msg, sessionId: chatbotSessionId})
        });
        const data = await res.json();
        loading.remove();
        if (data.error) {
            appendChatbotMessage("bot", "Sorry, I encountered an error. Please try again.");
        } else {
            chatbotSessionId = data.sessionId;
            appendChatbotMessage("bot", data.response);
        }
    } catch {
        loading.remove();
        appendChatbotMessage("bot", "Error connecting to chatbot.");
    }
}
</script>
</body>
</html>
